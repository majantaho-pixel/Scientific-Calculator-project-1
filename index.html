<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>EasyCalc ‚Äî Scientific + BMI</title>
<meta name="description" content="EasyCalc: scientific calculator + BMI checker. Dark/light mode, responsive, memory and history."/>
<style>
  /* ---------- Theme variables ---------- */
  :root {
    --bg:#f3f4f6; --panel:#ffffff; --text:#111827; --muted:#6b7280;
    --accent:#ff6b35; --btn:#e5e7eb; --btn-strong:#111827;
    --shadow:0 6px 22px rgba(0,0,0,0.08); --radius:14px;
  }
  body.dark {
    --bg:#0b1020; --panel:#161c2e; --text:#e6eef8; --muted:#94a3b8;
    --accent:#4dabf7; --btn:#1f2937; --btn-strong:#f1f5f9;
    --shadow:0 6px 26px rgba(0,0,0,0.6);
  }

  /* ---------- Base styles ---------- */
  html,body{margin:0;padding:0;height:100%;font-family:Inter,system-ui,Arial,sans-serif;
    background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;}
  .container{max-width:900px;margin:0 auto;padding:18px;}
  header.topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;}
  .brand{font-size:22px;font-weight:800;color:var(--accent);}
  .theme-btn{background:var(--btn);color:var(--btn-strong);border:none;
    padding:8px 12px;border-radius:10px;cursor:pointer;font-size:18px;box-shadow:var(--shadow);}
  .ad{background:var(--panel);border-radius:var(--radius);padding:18px;
    margin:16px 0;text-align:center;color:var(--muted);box-shadow:var(--shadow);font-weight:600;}

  /* ---------- Calculator panels ---------- */
  .panel{background:var(--panel);padding:18px;border-radius:var(--radius);box-shadow:var(--shadow);margin-bottom:24px;}
  .calc-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}
  .calc-title{font-weight:700;font-size:18px;}
  .mode{font-size:13px;color:var(--muted);}
  .display{width:100%;height:68px;background:rgba(0,0,0,0.04);border-radius:10px;
    padding:8px 12px;display:flex;flex-direction:column;justify-content:center;align-items:flex-end;}
  .expr{font-size:14px;color:var(--muted);}
  .value{font-size:24px;font-weight:700;color:var(--text);}
  .keys{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-top:12px;}
  .key{padding:14px;border:none;border-radius:10px;background:var(--btn);
    color:var(--btn-strong);font-weight:600;cursor:pointer;}
  .key.operator{background:linear-gradient(90deg,var(--accent),#e95b2b);color:#fff;}
  .key.scientific{background:linear-gradient(90deg,#3b82f6,#2563eb);color:#fff;}
  .key.equal{grid-column:span 2;background:linear-gradient(90deg,#10b981,#059669);color:#fff;}
  .small-muted{font-size:13px;color:var(--muted);margin-top:6px;text-align:right;}
  .history{max-height:100px;overflow-y:auto;font-size:13px;color:var(--muted);margin-top:10px;border-top:1px dashed rgba(255,255,255,0.05);padding-top:8px;}

  /* ---------- BMI panel ---------- */
  .bmi-panel label{display:block;font-size:13px;color:var(--muted);margin-bottom:4px;}
  .bmi-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
  @media(max-width:600px){.bmi-grid{grid-template-columns:1fr;}}
  input[type="number"],select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,0.1);
    background:transparent;color:var(--text);}
  .calc-btn{width:100%;margin-top:10px;padding:12px;border-radius:10px;border:none;
    background:var(--accent);color:#fff;font-weight:700;cursor:pointer;}
  .result-line{margin-top:12px;padding:10px;border-radius:10px;background:rgba(0,0,0,0.05);}
  .muted{color:var(--muted);font-size:13px;}
</style>
</head>
<body>

<div class="container">
  <header class="topbar">
    <div class="brand">EasyCalc</div>
    <button id="themeToggle" class="theme-btn">üåô</button>
  </header>

  <!-- Ad 1 (top) -->
  <div class="ad">üé¨ Google AdSense (Top)</div>

  <!-- Main Scientific Calculator -->
  <div class="panel">
    <div class="calc-top">
      <div>
        <div class="calc-title">Scientific Calculator</div>
        <div class="mode" id="angleModeLabel">Trig mode: <strong>Degrees</strong></div>
      </div>
      <div class="muted">Memory: <span id="memLabel">0</span></div>
    </div>
    <div class="display">
      <div id="expr" class="expr"></div>
      <div id="value" class="value">0</div>
    </div>
    <div class="keys">
      <button class="key" onclick="press('MC')">MC</button>
      <button class="key" onclick="press('MR')">MR</button>
      <button class="key" onclick="press('M+')">M+</button>
      <button class="key" onclick="press('M-')">M-</button>
      <button class="key scientific" onclick="press('sqrt')">‚àö</button>

      <button class="key" onclick="press('(')">(</button>
      <button class="key" onclick="press(')')">)</button>
      <button class="key" onclick="press('pi')">œÄ</button>
      <button class="key" onclick="press('e')">e</button>
      <button class="key operator" onclick="press('/')">√∑</button>

      <button class="key" onclick="press('7')">7</button>
      <button class="key" onclick="press('8')">8</button>
      <button class="key" onclick="press('9')">9</button>
      <button class="key operator" onclick="press('*')">√ó</button>
      <button class="key scientific" onclick="press('pow')">x ∏</button>

      <button class="key" onclick="press('4')">4</button>
      <button class="key" onclick="press('5')">5</button>
      <button class="key" onclick="press('6')">6</button>
      <button class="key operator" onclick="press('-')">‚àí</button>
      <button class="key scientific" onclick="press('fact')">n!</button>

      <button class="key" onclick="press('1')">1</button>
      <button class="key" onclick="press('2')">2</button>
      <button class="key" onclick="press('3')">3</button>
      <button class="key operator" onclick="press('+')">+</button>
      <button class="key scientific" onclick="press('inv')">1/x</button>

      <button class="key" onclick="press('0')">0</button>
      <button class="key" onclick="press('.')">.</button>
      <button class="key equal" onclick="press('=')">=</button>
      <button class="key" onclick="press('C')">C</button>
      <button class="key" onclick="press('DEL')">‚å´</button>

      <button class="key scientific" onclick="press('sin')">sin</button>
      <button class="key scientific" onclick="press('cos')">cos</button>
      <button class="key scientific" onclick="press('tan')">tan</button>
      <button class="key scientific" onclick="press('ln')">ln</button>
      <button class="key scientific" onclick="press('log')">log‚ÇÅ‚ÇÄ</button>
    </div>
    <div class="small-muted">Tip: Use üåô to switch theme. Keyboard supported (numbers, + - * / . Enter).</div>
    <div class="history" id="history"></div>
  </div>

  <!-- Ad 2 (between calculators) -->
  <div class="ad">üí∞ Google AdSense (Between Calculators)</div>

  <!-- BMI Panel -->
  <div class="panel bmi-panel">
    <h3>BMI & Health Checker</h3>
    <div class="bmi-grid">
      <div><label>Age (years)</label><input id="age" type="number" min="1"></div>
      <div><label>Gender</label><select id="gender"><option value="">Select</option><option>Male</option><option>Female</option></select></div>
      <div><label>Weight (kg)</label><input id="weight" type="number" step="0.1"></div>
      <div><label>Height (cm)</label><input id="height" type="number" step="0.1"></div>
    </div>
    <button class="calc-btn" onclick="runBMI()">Check BMI</button>
    <div class="result-line"><div id="bmiResult">Your BMI will appear here</div></div>
  </div>

  <!-- 3 Ads bottom -->
  <div class="ad">ü©∫ Health Ad</div>
  <div class="ad">üèãÔ∏è Fitness Ad</div>
  <div class="ad">ü•ó Nutrition Ad</div>
</div>

<script>
let expr='', displayValue='0', mem=0, historyArr=[], angleMode='DEG';
function updateDisplay(){expr=expr;document.getElementById('expr').textContent=expr;document.getElementById('value').textContent=displayValue;}
function pushHistory(line){historyArr.unshift(line);document.getElementById('history').innerHTML=historyArr.slice(0,15).map(h=>`<div>${h}</div>`).join('');}
function safeEvaluate(s){s=s.replace(/√ó/g,'*').replace(/√∑/g,'/').replace(/\^/g,'**');
s=s.replace(/\bsin\(/g,'Math.sin(').replace(/\bcos\(/g,'Math.cos(').replace(/\btan\(/g,'Math.tan(')
.replace(/\blog\(/g,'Math.log10(').replace(/\bln\(/g,'Math.log(')
.replace(/\bsqrt\(/g,'Math.sqrt(').replace(/\bpi\b/g,'('+Math.PI+')')
.replace(/\be\b/g,'('+Math.E+')');if(angleMode==='DEG'){s=s.replace(/Math\.sin\(([^)]+)\)/g,'Math.sin(($1)*Math.PI/180)');s=s.replace(/Math\.cos\(([^)]+)\)/g,'Math.cos(($1)*Math.PI/180)');s=s.replace(/Math\.tan\(([^)]+)\)/g,'Math.tan(($1)*Math.PI/180)');}
return Function('return '+s)();}
function press(k){if(k==='C'){expr='';displayValue='0';updateDisplay();return;}
if(k==='DEL'){expr=expr.slice(0,-1);updateDisplay();return;}
if(k==='='){try{let res=safeEvaluate(expr);displayValue=String(res);pushHistory(expr+' = '+res);expr=String(res);}catch(e){displayValue='Error';}updateDisplay();return;}
if(k==='M+'){mem+=Number(displayValue);document.getElementById('memLabel').textContent=mem;return;}
if(k==='M-'){mem-=Number(displayValue);document.getElementById('memLabel').textContent=mem;return;}
if(k==='MR'){expr=String(mem);displayValue=String(mem);updateDisplay();return;}
if(k==='MC'){mem=0;document.getElementById('memLabel').textContent=mem;return;}
if(k==='pi'||k==='e'){expr+=k;updateDisplay();return;}
if(['sin','cos','tan','ln','log','sqrt'].includes(k)){expr+=k+'(';updateDisplay();return;}
if(k==='pow'){expr+='^';updateDisplay();return;}
if(k==='fact'){expr+='!';updateDisplay();return;}
if(k==='inv'){expr='1/('+expr+')';updateDisplay();return;}
expr+=String(k);updateDisplay();}
function runBMI(){const w=+weight.value,h=+height.value/100;
if(!w||!h){bmiResult.textContent='Please fill all fields';return;}
const bmi=(w/(h*h)).toFixed(1);bmiResult.textContent='BMI: '+bmi;}
document.getElementById('themeToggle').onclick=()=>{document.body.classList.toggle('dark');localStorage.setItem('theme',document.body.classList.contains('dark')?'dark':'light');};
if(localStorage.getItem('theme')==='dark')document.body.classList.add('dark');
</script>
</body>
</html>
